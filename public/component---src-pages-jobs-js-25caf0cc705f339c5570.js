"use strict";(self.webpackChunknwa_daily=self.webpackChunknwa_daily||[]).push([[841],{67437:function(e,t,a){a(67294),a(25444),a(56260)},60197:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var n=a(51721),l=a(67294),o=a(25444),r=a(67312),i=(a(67437),a(97026)),s=function(e){var t=e.jobs,a=(0,i.Gc)();return console.log(t),l.createElement("div",null,a.sm?l.createElement("ul",{className:"uk-list uk-list-divider uk-width-8-8"},t.map((function(e,t){var a=new Date(e.node.posted_date),n=new Date-53568e5;if(console.log(n),"Featured"===e.node.type&&a>=n)return l.createElement("li",{className:"mobile-job",style:{backgroundColor:"#FFFFE0"},key:"job__left__"+e.node.slug},l.createElement("a",{className:"job-mobile",href:e.node.applicationLink},l.createElement("span",{className:"company-mobile"},e.node.organization),l.createElement("br",null),l.createElement("div",{className:"job-middle-section"},l.createElement("img",{width:"35",height:"35",src:e.node.logoUrl}),l.createElement("span",{className:"title-mobile"},e.node.title),l.createElement("span",{className:"date-mobile"},"Featured")),l.createElement("br",null),l.createElement("span",{className:"location-company-mobile"},e.node.location)))})),t.map((function(e,t){var a=new Date(e.node.posted_date),n=new Date-53568e5;if(console.log(n),"Featured"!==e.node.type&&a>=n)return l.createElement("li",{className:"mobile-job",key:"job__left__"+e.node.slug},l.createElement("a",{className:"job-mobile",href:e.node.applicationLink},l.createElement("span",{className:"company-mobile"},e.node.organization),l.createElement("br",null),l.createElement("div",{className:"job-middle-section"},l.createElement("img",{width:"35",height:"35",src:e.node.logoUrl}),l.createElement("span",{className:"title-mobile"},e.node.title),l.createElement("span",{className:"date-mobile"},"Posted "+["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()]+" "+a.getDate())),l.createElement("br",null),l.createElement("span",{className:"location-company-mobile"},e.node.location)))}))):l.createElement("ul",{className:"uk-list uk-list-divider uk-width-8-8"},t.map((function(e,t){var a=new Date(e.node.posted_date),n=new Date-53568e5;if(console.log(n),"Featured"===e.node.type&&a>=n)return l.createElement("li",{className:"job",style:{backgroundColor:"#FFFFE0"},key:"job__left__"+e.node.slug},l.createElement("a",{className:"job",href:e.node.applicationLink},l.createElement("span",{className:"company"},e.node.organization),l.createElement("br",null),l.createElement("div",{className:"job-middle-section"},l.createElement("img",{width:"35",height:"35",src:e.node.logoUrl}),l.createElement("span",{className:"title"},e.node.title),l.createElement("span",{className:"date"},"Featured")),l.createElement("br",null),l.createElement("span",{className:"location company"},e.node.location)))})),t.map((function(e,t){var a=new Date(e.node.posted_date),n=new Date-53568e5;if(console.log(n),"Featured"!==e.node.type&&a>=n)return l.createElement("li",{className:"job",key:"job__left__"+e.node.slug},l.createElement("a",{className:"job",href:e.node.applicationLink},l.createElement("span",{className:"company"},e.node.organization),l.createElement("br",null),l.createElement("div",{className:"job-middle-section"},l.createElement("img",{width:"35",height:"35",src:e.node.logoUrl}),l.createElement("span",{className:"title"},e.node.title),l.createElement("span",{className:"date"},"Posted "+["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()]+" "+a.getDate())),l.createElement("br",null),l.createElement("span",{className:"location company"},e.node.location)))}))))},c=a(97489),m=a(42594),u=a(65733),d=a(18656),p=a(29181),b=function(e){function t(t){var a;return(a=e.call(this,t)||this).componentDidMount=function(){window.setTimeout((function(){a.setState({isModalOpen:!0})}),2e3),fetch("https://nwadailybackend.herokuapp.com/emails/count",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){console.log(e),a.setState({emails:e})})).catch((function(e){console.log(e)}))},a.handleInputChange=function(e){var t;console.log("test");var n=e.target,l=n.value,o=n.name;console.log(o),a.setState(((t={})[o]=l,t)),console.log(a.state.email)},a.handleAdInputChange=function(e){var t;console.log("test");var n=e.target,l=n.value,o=n.name;console.log(o),a.setState(((t={})[o]=l,t)),console.log(a.state.advertiser)},a.handleModalClose=function(e){a.setState({isModalOpen:!1})},a.submitAdHandler=function(e){if(e.preventDefault(),""!==a.state.advertiser){var t={email:a.state.advertiser.toLowerCase(),oneLiner:a.state.oneLiner,event:a.state.extendedText,sponsor:a.state.sponsor,property:"NWA Daily"};fetch("https://nwadailybackend.herokuapp.com/inquiries",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){console.log(e.data),a.setState({isAdSubmitted:!0})})).catch((function(e){console.log(e)}))}else a.setState({submitError:!0}),console.log(!0)},a.submitHandler=function(e){e.preventDefault();var t=null;if(console.log(window.location.href.split("?id=").length),window.location.href.split("?id=").length>1?(console.log("idhere"),console.log(window.location.href),t=(t=window.location.href.split("?id=")[1]).split("&")[0],console.log(t)):(t="jobs",console.log(t)),""!==a.state.email){var n={email:a.state.email.toLowerCase(),location:a.state.location,source:t,subscribeDate:a.state.date,property:"NWA Daily"};fetch("https://nwadailybackend.herokuapp.com/signup",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){console.log(e.data),a.setState({isModalOpen:!1,isSubmitted:!0})})).catch((function(e){console.log(e)}))}else a.setState({submitError:!0}),console.log(!0)},a.emailRef=l.createRef(),a.state={email:"",location:"landing regular",isModalOpen:!1,submitError:!1,isSubmitted:!1,isAdSubmitted:!1,advertiser:"",emails:22e3,oneLiner:"0",extendedText:"0",sponsor:"0",date:new Date},a}return(0,n.Z)(t,e),t.prototype.render=function(){var e=this,t=this.props.breakpoints;return console.log(t),l.createElement(o.StaticQuery,{query:"83054189",render:function(a){return l.createElement(r.Z,{seo:a.strapiHomepage.seo},l.createElement(c.Z,{open:e.state.isModalOpen,keepMounted:!0,onClose:function(){return e.handleModalClose()},"aria-labelledby":"modal-slide-title","aria-describedby":"modal-slide-description"},l.createElement(m.Z,{id:"classic-modal-slide-title",disableTypography:!0},l.createElement(d.Z,{key:"close","aria-label":"Close",color:"inherit",onClick:function(){return e.handleModalClose()}},l.createElement(p.Z,null)),l.createElement("h3",{style:{fontWeight:"bold"}},"Join "+e.state.emails.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" NWA locals and subscribe to the free daily newsletter")),l.createElement(u.Z,{id:"modal-slide-description"},t.sm?l.createElement("form",null,!1===e.state.isSubmitted?l.createElement("div",{class:"uk-margin",style:{width:"90%",marginLeft:"auto",marginRight:"auto"}},l.createElement("input",{style:{width:"100%",color:"#307765",marginLeft:"auto",marginRight:"auto",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"signup",name:"email",type:"text",placeholder:"Email address",labelText:"Your Email",value:e.state.email,onChange:function(t){console.log(t.target.value),e.setState({email:t.target.value,location:"landing pop up"})}}),l.createElement("br",null),l.createElement("br",null),l.createElement("button",{style:{width:"100%",marginLeft:"auto",marginRight:"auto",backgroundColor:"#307765",opacity:1,color:"white"},className:"uk-button uk-button-default",onClick:e.submitHandler},"Subscribe")):l.createElement("div",{class:"uk-margin"},l.createElement("h4",{style:{textAlign:"center"}},"Look for us in your inbox!"))):l.createElement("form",null,!1===e.state.isSubmitted?l.createElement("div",{class:"uk-margin",style:{width:"90%",marginLeft:"auto",marginRight:"auto"}},l.createElement("input",{style:{width:"70%",color:"#307765",marginLeft:"auto",marginRight:"auto",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"signup",name:"email",type:"text",placeholder:"Email address",labelText:"Your Email",value:e.state.email,onChange:function(t){console.log(t.target.value),e.setState({email:t.target.value})}}),l.createElement("button",{style:{backgroundColor:"#307765",opacity:1,color:"white"},className:"uk-button uk-button-default",onClick:e.submitHandler},"Subscribe")):l.createElement("div",{class:"uk-margin"},l.createElement("h4",{style:{textAlign:"center"}},"Look for us in your inbox!"))))),l.createElement("div",{className:"job-head"},l.createElement("h2",{className:"job-header"},"Browse cool jobs in NWA"),l.createElement("a",{href:"/jobpost"},l.createElement("button",{className:"job-post-button"},"Post a job"))),a.allStrapiJob.edges.length>0?(t.sm,l.createElement("div",{className:"uk-section"},l.createElement("div",{className:"uk-container uk-container-large"},l.createElement(s,{jobs:a.allStrapiJob.edges})))):l.createElement("div",{className:"uk-section"},l.createElement("div",{className:"uk-container uk-container-large uk-text-center"},l.createElement("p",null,"There are no jobs posted at this time"),l.createElement("br",null),l.createElement("br",null),l.createElement("br",null),l.createElement("br",null),l.createElement("br",null),l.createElement("br",null),l.createElement("br",null),l.createElement("br",null),l.createElement("br",null))))}})},t}(l.Component),g=(0,i.gK)(b)}}]);
//# sourceMappingURL=component---src-pages-jobs-js-25caf0cc705f339c5570.js.map