"use strict";(self.webpackChunknwa_daily=self.webpackChunknwa_daily||[]).push([[263],{16801:function(e,t,a){a.r(t);var l=a(94578),s=a(67294),n=a(25444),o=a(67312),i=a(97026);let r=function(e){function t(t){var a;return(a=e.call(this,t)||this).handleInputChange=e=>{console.log("test");const t=e.target,l=t.value,s=t.name;console.log(s),a.setState({[s]:l}),console.log(a.state.email)},a.submitHandler=e=>{e.preventDefault();let t=null;if(console.log(window.location.href.split("?id=").length),window.location.href.split("?id=").length>1?(console.log("idhere"),console.log(window.location.href),t=window.location.href.split("?id=")[1],t=t.split("&")[0],console.log(t)):(t="regular",console.log(t)),""!==a.state.email){const e={email:a.state.email.toLowerCase(),location:"email",source:"",unSubscribeDate:a.state.date,subscribeDate:"",property:"NWA Daily"};fetch("https://nwadailybackend.herokuapp.com/update",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((e=>{console.log(e.data),a.setState({isModalOpen:!1,isSubmitted:!0})})).catch((e=>{console.log(e)}))}else a.setState({submitError:!0}),console.log(!0)},a.emailRef=s.createRef(),a.state={email:"",isModalOpen:!1,submitError:!1,isSubmitted:!1,date:new Date},a}return(0,l.Z)(t,e),t.prototype.render=function(){const{breakpoints:e}=this.props;return s.createElement(n.StaticQuery,{query:"3055651617",render:t=>s.createElement(o.Z,{seo:t.strapiHomepage.seo},e.sm?s.createElement("div",{className:"uk-section"},s.createElement("h1",{className:"uk-text-center"},t.strapiHomepage.hero.title),s.createElement("h3",{className:"uk-text-center"},"Unsubscribe from our daily newsletter"),s.createElement("p",{className:"uk-text-center",style:{marginLeft:"auto",marginRight:"auto",width:"90%"}},"If you no longer want to stay up to date with the latest happenings in NWA with our newsletter, submit your email address here"),s.createElement("form",{class:"uk-form",style:{width:"90%",marginLeft:"auto",marginRight:"auto"}},s.createElement("div",{class:"test"},!1===this.state.isSubmitted?s.createElement("div",{class:"uk-margin"},s.createElement("input",{style:{width:"55%",color:"#307765",marginLeft:"auto",marginRight:"auto",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"signup",name:"email",type:"text",placeholder:"Email address",labelText:"Your Email",value:this.state.email,onChange:e=>{console.log(e.target.value),this.setState({email:e.target.value})}}),s.createElement("button",{style:{backgroundColor:"#307765",opacity:1,color:"white"},className:"uk-button uk-button-default",onClick:this.submitHandler},"Unsubscribe")):s.createElement("div",{class:"uk-margin"},s.createElement("h4",{style:{textAlign:"center"}},"Thanks for the memories!"))))):s.createElement("div",{className:"uk-section"},s.createElement("h1",{className:"uk-text-center"},t.strapiHomepage.hero.title),s.createElement("h3",{className:"uk-text-center"},"Unsubscribe from our daily newsletter"),s.createElement("p",{className:"uk-text-center",style:{marginLeft:"auto",marginRight:"auto",width:"60%"}},"If you no longer want to stay up to date with the latest happenings in NWA with our newsletter, submit your email address here"),s.createElement("form",{class:"uk-form",style:{marginLeft:"auto",marginRight:"auto",width:"60%"}},s.createElement("div",{class:"test"},!1===this.state.isSubmitted?s.createElement("div",{class:"uk-margin"},s.createElement("input",{style:{width:"75%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"signup",name:"email",type:"text",placeholder:"Email address",labelText:"Your Email",value:this.state.email,onChange:e=>{console.log(e.target.value),this.setState({email:e.target.value})}}),s.createElement("button",{style:{backgroundColor:"#307765",opacity:1,color:"white"},className:"uk-button uk-button-default",onClick:this.submitHandler},"Unsubscribe")):s.createElement("div",{class:"uk-margin"},s.createElement("h4",{style:{textAlign:"center"}},"Thanks for the memories!"))))))})},t}(s.Component);t.default=(0,i.gK)(r)}}]);
//# sourceMappingURL=component---src-pages-unsubscribe-js-7f84d733908c95b8ab07.js.map