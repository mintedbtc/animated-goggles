"use strict";(self.webpackChunknwa_daily=self.webpackChunknwa_daily||[]).push([[283],{5686:function(e,t,a){a.r(t);var n=a(51721),o=a(67294),l=a(25444),i=a(67312),r=a(97026),s=function(e){function t(t){var a;return(a=e.call(this,t)||this).handleInputChange=function(e){var t;console.log("test");var n=e.target,o=n.value,l=n.name;console.log(l),a.setState(((t={})[l]=o,t)),console.log(a.state.email)},a.submitHandler=function(e){e.preventDefault();var t=null;if(console.log(window.location.href.split("?id=").length),window.location.href.split("?id=").length>1?(console.log("idhere"),console.log(window.location.href),t=(t=window.location.href.split("?id=")[1]).split("&")[0],console.log(t)):(t="regular",console.log(t)),""!==a.state.email){var n={email:a.state.email.toLowerCase(),location:"subscribe",source:t,subscribeDate:a.state.date,property:"NWA Daily"};fetch("https://nwadailybackend.herokuapp.com/signup",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){console.log(e.data),a.setState({isModalOpen:!1,isSubmitted:!0})})).catch((function(e){console.log(e)}))}else a.setState({submitError:!0}),console.log(!0)},a.emailRef=o.createRef(),a.state={email:"",isModalOpen:!1,submitError:!1,isSubmitted:!1,date:new Date},a}return(0,n.Z)(t,e),t.prototype.render=function(){var e=this,t=this.props.breakpoints;return o.createElement(l.StaticQuery,{query:"3055651617",render:function(a){var n;return o.createElement(i.Z,{seo:a.strapiHomepage.seo},t.sm?o.createElement("div",{className:"uk-section"},o.createElement("h3",{className:"uk-text-center"},"Subscribe to receive our daily newsletter"),o.createElement("p",{className:"uk-text-center",style:{marginLeft:"auto",marginRight:"auto",width:"90%"}},"Know all the happenings in NWA with a 5-minute read of our free email newsletter every weekday."),o.createElement("form",{class:"uk-form",style:{width:"90%",marginLeft:"auto",marginRight:"auto"}},o.createElement("div",{class:"test"},!1===e.state.isSubmitted?o.createElement("div",{class:"uk-margin"},o.createElement("input",{style:(n={width:"60%",color:"#307765"},n.color="black",n.marginLeft="auto",n.marginRight="auto",n.marginBottom="0px",n.paddingBottom="0px",n),className:"uk-input",id:"signup",name:"email",type:"text",placeholder:"Email address",labelText:"Your Email",value:e.state.email,onChange:function(t){console.log(t.target.value),e.setState({email:t.target.value})}}),o.createElement("button",{style:{backgroundColor:"#307765",opacity:1,color:"white"},className:"uk-button uk-button-default",onClick:e.submitHandler},"Subscribe")):o.createElement("div",{class:"uk-margin"},o.createElement("h4",{style:{textAlign:"center"}},"Look for us in your inbox!"))))):o.createElement("div",{className:"uk-section"},o.createElement("h3",{className:"uk-text-center"},"Subscribe to receive our daily newsletter"),o.createElement("p",{className:"uk-text-center",style:{marginLeft:"auto",marginRight:"auto",width:"60%"}},"Know all the happenings in NWA with a 5-minute read of our free email newsletter every weekday."),o.createElement("form",{class:"uk-form",style:{marginLeft:"auto",marginRight:"auto",width:"60%"}},o.createElement("div",{class:"test"},!1===e.state.isSubmitted?o.createElement("div",{class:"uk-margin"},o.createElement("input",{style:{width:"80%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"signup",name:"email",type:"text",placeholder:"Email address",labelText:"Your Email",value:e.state.email,onChange:function(t){console.log(t.target.value),e.setState({email:t.target.value})}}),o.createElement("button",{style:{backgroundColor:"#307765",opacity:1,color:"white"},className:"uk-button uk-button-default",onClick:e.submitHandler},"Subscribe")):o.createElement("div",{class:"uk-margin"},o.createElement("h4",{style:{textAlign:"center"}},"Look for us in your inbox!"))))))}})},t}(o.Component);t.default=(0,r.gK)(s)}}]);
//# sourceMappingURL=component---src-pages-subscribe-js-80c9d18861391eaa15e8.js.map