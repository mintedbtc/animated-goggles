"use strict";(self.webpackChunknwa_daily=self.webpackChunknwa_daily||[]).push([[369],{7041:function(e,t,a){a.r(t);var n=a(94578),l=(a(27207),a(67294)),o=a(25444),i=a(67312),r=a(97026);let s=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleInputChange=e=>{e.preventDefault(),console.log("test");const t=e.target,a=t.value,l=t.name;console.log(l),n.setState({[l]:a})},n.submitHandler=e=>{e.preventDefault();let t=null;if(console.log(window.location.href.split("?id=").length),window.location.href.split("?id=").length>1?(console.log("idhere"),console.log(window.location.href),t=window.location.href.split("?id=")[1],t=t.split("&")[0],console.log(t)):(t="regular",console.log(t)),""!==n.state.email){const e=n.state.email.toLowerCase(),t=n.state.name,a=n.state.location,l=n.state.organization,i=n.state.description,r=n.state.title,s=n.state.date,c=n.state.eventLink,m={email:e,location:a,name:t,title:r,slug:t.replaceAll(" ","-").toLowerCase(),organization:l,description:i,eventLink:c,date:s};fetch("https://nwadailybackend.herokuapp.com/events",{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json"}}).then((e=>{if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((e=>{console.log(e.data),n.setState({isModalOpen:!1,isSubmitted:!0}),(0,o.navigate)("https://buy.stripe.com/8wM29id04f6f9OgdR3")})).catch((e=>{console.log(e)}))}else n.setState({submitError:!0}),console.log(!0)},"undefined"!=typeof window&&(n.ReactQuill=a(8070)),n.emailRef=l.createRef(),n.state={email:"",name:"",organization:"",description:"",location:"",type:"",slug:"",eventLink:"",isModalOpen:!1,submitError:!1,isSubmitted:!1,date:new Date},n}return(0,n.Z)(t,e),t.prototype.render=function(){const{breakpoints:e}=this.props,t=this.ReactQuill;return l.createElement(o.StaticQuery,{query:"3055651617",render:a=>l.createElement(i.Z,{seo:a.strapiHomepage.seo},l.createElement("div",null,e.sm?l.createElement("div",{className:"uk-section"},l.createElement("h3",{className:"uk-text-center"},"Post an event on our event calendar"),l.createElement("p",{style:{marginLeft:"auto",marginRight:"auto",width:"60%"}},"Our event calendar helps our readers keep up with fun things going on in the newsletter. post your event here so our readers and website visitors know about it. Each posting is $100."),l.createElement("form",{class:"uk-form",style:{marginLeft:"auto",marginRight:"auto",width:"60%"}},l.createElement("div",{class:"test"},!1===this.state.isSubmitted?l.createElement("div",{class:"uk-margin"},l.createElement("label",null,"Event Name"),l.createElement("br",null),l.createElement("input",{style:{width:"100%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"eventName",name:"name",type:"text",placeholder:"Event Name",labelText:"Event Name",value:this.state.name,onChange:e=>{console.log(e.target.value),this.setState({name:e.target.value})}}),l.createElement("br",null),l.createElement("br",null),l.createElement("label",null,"Organization"),l.createElement("br",null),l.createElement("input",{style:{width:"100%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"jobOrganization",name:"organization",type:"text",placeholder:"Organization",labelText:"Organization",value:this.state.organization,onChange:e=>{console.log(e.target.value),this.setState({organization:e.target.value})}}),l.createElement("br",null),l.createElement("br",null),l.createElement("label",null,"Event Location"),l.createElement("br",null),l.createElement("input",{style:{width:"100%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"jobLocation",name:"location",type:"text",placeholder:"Job Location",labelText:"Location",value:this.state.location,onChange:e=>{console.log(e.target.value),this.setState({location:e.target.value})}}),l.createElement("br",null),l.createElement("br",null),l.createElement("label",null,"Event Description"),l.createElement("br",null),"undefined"!=typeof window&&t?l.createElement(t,{theme:"snow",name:"jobDescription",value:this.state.description,onChange:e=>{this.setState({description:e})}}):l.createElement("textarea",null),l.createElement("br",null),l.createElement("label",null,"Event Link"),l.createElement("input",{style:{width:"100%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"jobLink",name:"link",type:"text",placeholder:"Event Link",labelText:"Event Link",value:this.state.eventLink,onChange:e=>{console.log(e.target.value),this.setState({eventLink:e.target.value})}}),l.createElement("br",null),l.createElement("br",null),l.createElement("label",null,"Event Date"),l.createElement("input",{style:{width:"100%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"date",name:"date",type:"date",placeholder:"Event Date",labelText:"Event Date",value:this.state.date,onChange:e=>{const t=new Date(e.target.value);t.setDate(t.getDate()),this.setState({date:t.toISOString().split("T")[0]})}}),l.createElement("br",null),l.createElement("br",null),l.createElement("label",null,"Contact Email Address"),l.createElement("input",{style:{width:"100%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"jobEmail",name:"email",type:"text",placeholder:"Email Address",labelText:"Your Email",value:this.state.email,onChange:e=>{console.log(e.target.value),this.setState({email:e.target.value})}}),l.createElement("div",{className:"uk-container"},l.createElement("div",{className:"job-head"},l.createElement("br",null),l.createElement("a",{href:"/jobpost"},l.createElement("button",{className:"job-post-button",onClick:this.submitHandler},"Post your event")))),l.createElement("br",null),l.createElement("br",null)):l.createElement("div",{class:"uk-margin"},l.createElement("h4",{style:{textAlign:"center"}},"You're all set!"))))):l.createElement("div",{className:"uk-section"},l.createElement("h3",{className:"uk-text-center"},"Post an event on our event calendar"),l.createElement("p",{style:{marginLeft:"auto",marginRight:"auto",width:"60%"}},"Our event calendar helps our readers keep up with fun things going on in the newsletter. post your event here so our readers and website visitors know about it. Each posting is $100."),l.createElement("form",{class:"uk-form",style:{marginLeft:"auto",marginRight:"auto",width:"75%"}},l.createElement("div",{class:"test"},!1===this.state.isSubmitted?l.createElement("div",{class:"uk-margin"},l.createElement("label",null,"Event Name"),l.createElement("br",null),l.createElement("input",{style:{width:"100%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"jobTitle",name:"title",type:"text",placeholder:"Event Name",labelText:"Event Name",value:this.state.name,onChange:e=>{console.log(e.target.value),this.setState({name:e.target.value})}}),l.createElement("br",null),l.createElement("br",null),l.createElement("label",null,"Organization"),l.createElement("br",null),l.createElement("input",{style:{width:"100%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"jobOrganization",name:"organization",type:"text",placeholder:"Organization",labelText:"Organization",value:this.state.organization,onChange:e=>{console.log(e.target.value),this.setState({organization:e.target.value})}}),l.createElement("br",null),l.createElement("br",null),l.createElement("label",null,"Event Location"),l.createElement("br",null),l.createElement("input",{style:{width:"100%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"jobLocation",name:"location",type:"text",placeholder:"Event Location",labelText:"Location",value:this.state.location,onChange:e=>{console.log(e.target.value),this.setState({location:e.target.value})}}),l.createElement("br",null),l.createElement("br",null),l.createElement("label",null,"Event Description"),l.createElement("br",null),"undefined"!=typeof window&&t?l.createElement(t,{theme:"snow",name:"jobDescription",value:this.state.description,onChange:e=>{this.setState({description:e})}}):l.createElement("textarea",null),l.createElement("br",null),l.createElement("label",null,"Event Link"),l.createElement("input",{style:{width:"100%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"jobLink",name:"link",type:"text",placeholder:"Event Link",labelText:"Event Link",value:this.state.eventLink,onChange:e=>{console.log(e.target.value),this.setState({eventLink:e.target.value})}}),l.createElement("br",null),l.createElement("br",null),l.createElement("label",null,"Event Date"),l.createElement("input",{style:{width:"100%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"date",name:"date",type:"date",placeholder:"Event Date",labelText:"Event Date",value:this.state.date,onChange:e=>{const t=new Date(e.target.value);t.setDate(t.getDate()),this.setState({date:t.toISOString().split("T")[0]})}}),l.createElement("br",null),l.createElement("br",null),l.createElement("label",null,"Contact Email Address"),l.createElement("input",{style:{width:"100%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"jobEmail",name:"email",type:"text",placeholder:"Email Address",labelText:"Your Email",value:this.state.email,onChange:e=>{console.log(e.target.value),this.setState({email:e.target.value})}}),l.createElement("br",null),l.createElement("br",null),l.createElement("div",{className:"uk-container"},l.createElement("div",{className:"job-head"},l.createElement("br",null),l.createElement("a",{href:"/jobpost"},l.createElement("button",{className:"job-post-button",onClick:this.submitHandler},"Post your event")))),l.createElement("br",null),l.createElement("br",null)):l.createElement("div",{class:"uk-margin"},l.createElement("h4",{style:{textAlign:"center"}},"You're all set!")))))))})},t}(l.Component);t.default=(0,r.gK)(s)}}]);
//# sourceMappingURL=component---src-pages-eventpost-js-8d5f9555a854a5ff4ec0.js.map