{"version":3,"file":"component---src-pages-archive-js-80ee57c9102613a52387.js","mappings":"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","sources":["webpack://nwa-daily/./src/components/archives.js","webpack://nwa-daily/./src/pages/archive.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Card from \"./card\";\nimport { Link } from \"gatsby\";\nimport { useBreakpoint } from 'gatsby-plugin-breakpoints';\n\nconst Archives = ({ articles }) => {\n  const [restApiArticles, setRestApiArticles] = useState([]);\n  const breakpoints = useBreakpoint()\n\n  useEffect(() => {\n    fetch(\"https://nwadailybackend.herokuapp.com/beehiiv\", {\n      method: 'GET'\n    })\n    .then(response => response.json())\n    .then(data => setRestApiArticles(data.data))\n    .catch(error => console.error(error));\n  }, []);\n\n  const allArticles = [...restApiArticles, ...articles];\n\n  const leftArticlesCount = Math.ceil(allArticles.length / 5);\n  const leftArticles = allArticles.slice(0, leftArticlesCount);\n  const rightArticles = allArticles.slice(leftArticlesCount, allArticles.length);\n  console.log(allArticles)\n\n  return (\n   \n   \n   <div>\n   \n   {breakpoints.sm ? \n    (\n      \n        <ul class=\"uk-list uk-list-divider uk-center uk-width-7-8\">\n          {allArticles.map((article, i) => {\n            if(article.hasOwnProperty('node')) {\n              let dt = new Date(article.node.date)\n              const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n              \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n            ];\n              return (\n                // <Card\n                //   article={article}\n                //   key={`article__left__${article.node.slug}`}\n                // />\n                <li key={`article__left__${article.node.slug}`}>\n                  <a id=\"archive-link\"\n                    href={'/article/'+article.node.slug}\n                    \n                  >\n                    {monthNames[dt.getMonth()] + ' '+ dt.getDate() + ' - ' + article.node.headline} \n                    </a>\n                </li>\n              );\n            }\n            else {\n              let dt = new Date(article.displayed_date * 1000)\n              const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n              \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n            ];\n              return (\n                // <Card\n                //   article={article}\n                //   key={`article__left__${article.node.slug}`}\n                // />\n                <li key={`article__left__${article.slug}`}>\n                  <a id=\"archive-link\"\n                    href={`/article/${article.slug}?channel=${article.id}`}\n                    \n                  >\n                    {monthNames[dt.getMonth()] + ' '+ dt.getDate() + ' - ' + article.title} \n                    </a>\n                </li>\n              );\n            }\n          })}\n          </ul>\n    )\n    :\n    (\n      <ul class=\"uk-list uk-list-divider uk-center uk-width-1-2\">\n          {allArticles.map((article, i) => {\n            if(article.hasOwnProperty('node')) {\n              let dt = new Date(article.node.date)\n              const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n              \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n            ];\n              return (\n                // <Card\n                //   article={article}\n                //   key={`article__left__${article.node.slug}`}\n                // />\n                <li key={`article__left__${article.node.slug}`}>\n                  <a id=\"archive-link\"\n                    href={'/article/'+article.node.slug}\n                    \n                  >\n                    {monthNames[dt.getMonth()] + ' '+ dt.getDate() + ' - ' + article.node.headline} \n                    </a>\n                </li>\n              );\n            }\n            else {\n              let dt = new Date(article.displayed_date * 1000)\n              const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n              \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\n            ];\n              return (\n                // <Card\n                //   article={article}\n                //   key={`article__left__${article.node.slug}`}\n                // />\n                <li key={`article__left__${article.slug}`}>\n                  <a id=\"archive-link\"\n                    href={`/article/${article.slug}?channel=${article.id}`}\n                    \n                  >\n                    {monthNames[dt.getMonth()] + ' '+ dt.getDate() + ' - ' + article.title} \n                    </a>\n                </li>\n              );\n            }\n          })}\n          </ul>\n    )}\n     \n     \n    </div>\n  );\n};\n\nexport default Archives;","import React from \"react\";\nimport { graphql, useStaticQuery } from \"gatsby\";\nimport Layout from \"../components/layout\";\nimport ArchivesComponent from \"../components/archives\";\nimport \"../assets/css/main.css\";\nimport { useBreakpoint } from 'gatsby-plugin-breakpoints';\n\nconst ArchivePage = () => {\n  const data = useStaticQuery(query);\n  const breakpoints = useBreakpoint()\n  return (\n    <Layout seo={data.strapiHomepage.seo}>\n{breakpoints.sm ? \n(\n<div className=\"uk-section\">\n      {/* <h1 className=\"uk-text-center\">{data.strapiHomepage.hero.title}</h1> */}\n        <div style={{marginLeft:\"3%\"}} className=\"uk-container uk-container-large\" >\n        <h2 style={{marginLeft:\"8%\"}}>Browse all our newsletters</h2>\n          <ArchivesComponent articles={data.allStrapiEdition.edges} />\n        \n        </div>\n      </div>\n)\n:\n(\n<div className=\"uk-section\">\n      {/* <h1 className=\"uk-text-center\">{data.strapiHomepage.hero.title}</h1> */}\n        <div style={{marginLeft:\"30%\"}} className=\"uk-container uk-container-large\" >\n        <h2 style={{marginLeft:\"5%\"}}>Browse all our newsletters</h2>\n          <ArchivesComponent style={{marginLeft:\"5%\"}} articles={data.allStrapiEdition.edges} />\n        \n        </div>\n      </div>\n)}\n    </Layout>\n  );\n};\n\nconst query = graphql`\n  query {\n    strapiHomepage {\n      hero {\n        title\n      }\n      seo {\n        metaTitle\n        metaDescription\n        shareImage {\n          publicURL\n        }\n      }\n    }\n    allStrapiEdition(sort: {order: DESC, fields: date},\n      filter: {writer: {id: {eq: 2}}}) {\n      edges {\n        node {\n          strapiId\n          slug\n          date\n          posts {\n            title\n            topic\n          }\n          headline\n          writer {\n            name\n            picture {\n              childImageSharp {\n                gatsbyImageData(layout: FIXED)\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport default ArchivePage;"],"names":["_ref","articles","restApiArticles","setRestApiArticles","useState","breakpoints","useBreakpoint","useEffect","fetch","method","then","response","json","data","catch","error","console","allArticles","concat","_toConsumableArray","leftArticlesCount","Math","ceil","length","slice","log","React","sm","class","map","article","i","hasOwnProperty","dt","Date","node","date","monthNames","key","slug","id","href","getMonth","getDate","headline","displayed_date","title","query","ArchivePage","useStaticQuery","Layout","seo","strapiHomepage","className","style","marginLeft","ArchivesComponent","allStrapiEdition","edges"],"sourceRoot":""}