"use strict";(self.webpackChunknwa_daily=self.webpackChunknwa_daily||[]).push([[237],{77885:function(e,t,a){a.r(t);var n=a(51721),o=a(67294),s=a(25444),r=a(67312),l=a(97026),i=function(e){function t(t){var a;return(a=e.call(this,t)||this).handleInputChange=function(e){var t;console.log("test");var n=e.target,o=n.value,s=n.name;console.log(s),a.setState(((t={})[s]=o,t)),console.log(a.state.email)},a.submitHandler=function(e){e.preventDefault();var t=null;if(console.log(window.location.href.split("?id=").length),window.location.href.split("?id=").length>1?(console.log("idhere"),console.log(window.location.href),t=(t=window.location.href.split("?id=")[1]).split("&")[0],console.log(t)):(t="regular",console.log(t)),""!==a.state.sharee){var n=a.state.sharee,o={sharer:t,sharee:n,source:"share",shareDate:a.state.date,property:"NWA Daily"};fetch("https://nwadailybackend.herokuapp.com/shares",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((function(e){console.log(e.data),a.setState({isSubmitted:!0})})).catch((function(e){console.log(e)})),fetch("https://nwadailybackend.herokuapp.com/refer",{method:"POST",body:JSON.stringify({sharee:n,sharerId:t}),headers:{"Content-Type":"application/json"},mode:"cors"}).then((function(e){return 200!==e.status&&201!==e.status?(console.log(e.status),e.status):e})).catch((function(e){console.log(e)}))}else console.log("err")},a.emailRef=o.createRef(),a.state={sharerId:"",sharee:"",source:"",isSubmitted:!1,date:new Date},a}return(0,n.Z)(t,e),t.prototype.render=function(){var e=this,t=this.props.breakpoints;return o.createElement(s.StaticQuery,{query:"3055651617",render:function(a){return o.createElement(r.Z,{seo:a.strapiHomepage.seo},t.sm?o.createElement("div",{className:"uk-section"},o.createElement("h3",{className:"uk-text-center"},"Be a good friend, keep them in the know!"),o.createElement("div",{style:{textAlign:"center"}},o.createElement("form",{class:"uk-form",style:{marginLeft:"auto",marginRight:"auto",width:"90%"}},o.createElement("div",{class:"test"},!1===e.state.isSubmitted?o.createElement("div",{class:"uk-margin"},o.createElement("input",{style:{width:"90%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"signup",name:"sharee",type:"text",placeholder:"Your friend's email address",labelText:"Your Email",value:e.state.sharee,onChange:function(t){console.log(t.target.value),e.setState({sharee:t.target.value})}}),o.createElement("button",{style:{backgroundColor:"#307765",opacity:1,color:"white"},className:"uk-button uk-button-default",onClick:e.submitHandler},"Share")):o.createElement("div",{class:"uk-margin"},o.createElement("h4",{style:{textAlign:"center"}},"Thanks for sharing!")))))):o.createElement("div",{className:"uk-section"},o.createElement("h3",{className:"uk-text-center"},"Be a good friend, keep them in the know!"),o.createElement("div",{style:{textAlign:"center"}},o.createElement("form",{class:"uk-form",style:{marginLeft:"auto",marginRight:"auto",width:"50%"}},o.createElement("div",{class:"test"},!1===e.state.isSubmitted?o.createElement("div",{class:"uk-margin"},o.createElement("input",{style:{width:"70%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"signup",name:"sharee",type:"text",placeholder:"Your friend's email address",labelText:"Your Email",value:e.state.sharee,onChange:function(t){console.log(t.target.value),e.setState({sharee:t.target.value})}}),o.createElement("button",{style:{backgroundColor:"#307765",opacity:1,color:"white"},className:"uk-button uk-button-default",onClick:e.submitHandler},"Share")):o.createElement("div",{class:"uk-margin"},o.createElement("h4",{style:{textAlign:"center"}},"Thanks for sharing!")))))))}})},t}(o.Component);t.default=(0,l.gK)(i)}}]);
//# sourceMappingURL=component---src-pages-share-js-5ba6dcf0bc918e67c5c3.js.map