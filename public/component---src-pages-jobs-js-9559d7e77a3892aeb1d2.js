"use strict";(self.webpackChunknwa_daily=self.webpackChunknwa_daily||[]).push([[841],{67437:function(e,t,a){a(67294),a(25444),a(56260)},60197:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var l=a(94578),n=a(67294),o=a(25444),s=a(67312),r=(a(67437),a(97026));var i=e=>{let{jobs:t}=e;const a=(0,r.Gc)();return console.log(t),n.createElement("div",null,a.sm?n.createElement("ul",{className:"uk-list uk-list-divider uk-width-8-8"},t.map(((e,t)=>{let a=new Date(e.node.posted_date);let l=new Date-53568e5;if(console.log(l),"Featured"===e.node.type&&a>=l)return n.createElement("li",{className:"mobile-job",style:{backgroundColor:"#FFFFE0"},key:"job__left__"+e.node.slug},n.createElement("a",{className:"job-mobile",href:e.node.applicationLink},n.createElement("span",{className:"company-mobile"},e.node.organization),n.createElement("br",null),n.createElement("div",{className:"job-middle-section"},n.createElement("img",{width:"35",height:"35",src:e.node.logoUrl}),n.createElement("span",{className:"title-mobile"},e.node.title),n.createElement("span",{className:"date-mobile"},"Featured")),n.createElement("br",null),n.createElement("span",{className:"location-company-mobile"},e.node.location)))})),t.map(((e,t)=>{let a=new Date(e.node.posted_date);const l=["January","February","March","April","May","June","July","August","September","October","November","December"];let o=new Date-53568e5;if(console.log(o),"Featured"!==e.node.type&&a>=o)return n.createElement("li",{className:"mobile-job",key:"job__left__"+e.node.slug},n.createElement("a",{className:"job-mobile",href:e.node.applicationLink},n.createElement("span",{className:"company-mobile"},e.node.organization),n.createElement("br",null),n.createElement("div",{className:"job-middle-section"},n.createElement("img",{width:"35",height:"35",src:e.node.logoUrl}),n.createElement("span",{className:"title-mobile"},e.node.title),n.createElement("span",{className:"date-mobile"},"Posted "+l[a.getMonth()]+" "+a.getDate())),n.createElement("br",null),n.createElement("span",{className:"location-company-mobile"},e.node.location)))}))):n.createElement("ul",{className:"uk-list uk-list-divider uk-width-8-8"},t.map(((e,t)=>{let a=new Date(e.node.posted_date);let l=new Date-53568e5;if(console.log(l),"Featured"===e.node.type&&a>=l)return n.createElement("li",{className:"job",style:{backgroundColor:"#FFFFE0"},key:"job__left__"+e.node.slug},n.createElement("a",{className:"job",href:e.node.applicationLink},n.createElement("span",{className:"company"},e.node.organization),n.createElement("br",null),n.createElement("div",{className:"job-middle-section"},n.createElement("img",{width:"35",height:"35",src:e.node.logoUrl}),n.createElement("span",{className:"title"},e.node.title),n.createElement("span",{className:"date"},"Featured")),n.createElement("br",null),n.createElement("span",{className:"location company"},e.node.location)))})),t.map(((e,t)=>{let a=new Date(e.node.posted_date);const l=["January","February","March","April","May","June","July","August","September","October","November","December"];let o=new Date-53568e5;if(console.log(o),"Featured"!==e.node.type&&a>=o)return n.createElement("li",{className:"job",key:"job__left__"+e.node.slug},n.createElement("a",{className:"job",href:e.node.applicationLink},n.createElement("span",{className:"company"},e.node.organization),n.createElement("br",null),n.createElement("div",{className:"job-middle-section"},n.createElement("img",{width:"35",height:"35",src:e.node.logoUrl}),n.createElement("span",{className:"title"},e.node.title),n.createElement("span",{className:"date"},"Posted "+l[a.getMonth()]+" "+a.getDate())),n.createElement("br",null),n.createElement("span",{className:"location company"},e.node.location)))}))))},c=a(38759),m=a(42594),d=a(65733),u=a(18656),p=a(29181);let b=function(e){function t(t){var a;return(a=e.call(this,t)||this).componentDidMount=()=>{window.setTimeout((()=>{a.setState({isModalOpen:!0})}),2e3),fetch("https://nwadailybackend.herokuapp.com/emails/count",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>{if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((e=>{console.log(e),a.setState({emails:e})})).catch((e=>{console.log(e)}))},a.handleInputChange=e=>{console.log("test");const t=e.target,l=t.value,n=t.name;console.log(n),a.setState({[n]:l}),console.log(a.state.email)},a.handleAdInputChange=e=>{console.log("test");const t=e.target,l=t.value,n=t.name;console.log(n),a.setState({[n]:l}),console.log(a.state.advertiser)},a.handleModalClose=e=>{a.setState({isModalOpen:!1})},a.submitAdHandler=e=>{if(e.preventDefault(),""!==a.state.advertiser){const e={email:a.state.advertiser.toLowerCase(),oneLiner:a.state.oneLiner,event:a.state.extendedText,sponsor:a.state.sponsor,property:"NWA Daily"};fetch("https://nwadailybackend.herokuapp.com/inquiries",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((e=>{console.log(e.data),a.setState({isAdSubmitted:!0})})).catch((e=>{console.log(e)}))}else a.setState({submitError:!0}),console.log(!0)},a.submitHandler=e=>{e.preventDefault();let t=null;if(console.log(window.location.href.split("?id=").length),window.location.href.split("?id=").length>1?(console.log("idhere"),console.log(window.location.href),t=window.location.href.split("?id=")[1],t=t.split("&")[0],console.log(t)):(t="jobs",console.log(t)),""!==a.state.email){const e={email:a.state.email.toLowerCase(),location:a.state.location,source:t,subscribeDate:a.state.date,property:"NWA Daily"};fetch("https://nwadailybackend.herokuapp.com/signup",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((e=>{console.log(e.data),a.setState({isModalOpen:!1,isSubmitted:!0})})).catch((e=>{console.log(e)}))}else a.setState({submitError:!0}),console.log(!0)},a.emailRef=n.createRef(),a.state={email:"",location:"landing regular",isModalOpen:!1,submitError:!1,isSubmitted:!1,isAdSubmitted:!1,advertiser:"",emails:22e3,oneLiner:"0",extendedText:"0",sponsor:"0",date:new Date},a}return(0,l.Z)(t,e),t.prototype.render=function(){const{breakpoints:e}=this.props;return console.log(e),n.createElement(o.StaticQuery,{query:"83054189",render:t=>n.createElement(s.Z,{seo:t.strapiHomepage.seo},n.createElement(c.Z,{open:this.state.isModalOpen,keepMounted:!0,onClose:()=>this.handleModalClose(),"aria-labelledby":"modal-slide-title","aria-describedby":"modal-slide-description"},n.createElement(m.Z,{id:"classic-modal-slide-title",disableTypography:!0},n.createElement(u.Z,{key:"close","aria-label":"Close",color:"inherit",onClick:()=>this.handleModalClose()},n.createElement(p.Z,null)),n.createElement("h3",{style:{fontWeight:"bold"}},"Join "+this.state.emails.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" NWA locals and subscribe to the free daily newsletter")),n.createElement(d.Z,{id:"modal-slide-description"},e.sm?n.createElement("form",null,!1===this.state.isSubmitted?n.createElement("div",{class:"uk-margin",style:{width:"90%",marginLeft:"auto",marginRight:"auto"}},n.createElement("input",{style:{width:"100%",color:"#307765",marginLeft:"auto",marginRight:"auto",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"signup",name:"email",type:"text",placeholder:"Email address",labelText:"Your Email",value:this.state.email,onChange:e=>{console.log(e.target.value),this.setState({email:e.target.value,location:"landing pop up"})}}),n.createElement("br",null),n.createElement("br",null),n.createElement("button",{style:{width:"100%",marginLeft:"auto",marginRight:"auto",backgroundColor:"#307765",opacity:1,color:"white"},className:"uk-button uk-button-default",onClick:this.submitHandler},"Subscribe")):n.createElement("div",{class:"uk-margin"},n.createElement("h4",{style:{textAlign:"center"}},"Look for us in your inbox!"))):n.createElement("form",null,!1===this.state.isSubmitted?n.createElement("div",{class:"uk-margin",style:{width:"90%",marginLeft:"auto",marginRight:"auto"}},n.createElement("input",{style:{width:"70%",color:"#307765",marginLeft:"auto",marginRight:"auto",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"signup",name:"email",type:"text",placeholder:"Email address",labelText:"Your Email",value:this.state.email,onChange:e=>{console.log(e.target.value),this.setState({email:e.target.value})}}),n.createElement("button",{style:{backgroundColor:"#307765",opacity:1,color:"white"},className:"uk-button uk-button-default",onClick:this.submitHandler},"Subscribe")):n.createElement("div",{class:"uk-margin"},n.createElement("h4",{style:{textAlign:"center"}},"Look for us in your inbox!"))))),n.createElement("div",{className:"job-head"},n.createElement("h2",{className:"job-header"},"Browse cool jobs in NWA"),n.createElement("a",{href:"/jobpost"},n.createElement("button",{className:"job-post-button"},"Post a job"))),t.allStrapiJob.edges.length>0?(e.sm,n.createElement("div",{className:"uk-section"},n.createElement("div",{className:"uk-container uk-container-large"},n.createElement(i,{jobs:t.allStrapiJob.edges})))):n.createElement("div",{className:"uk-section"},n.createElement("div",{className:"uk-container uk-container-large uk-text-center"},n.createElement("p",null,"There are no jobs posted at this time"),n.createElement("br",null),n.createElement("br",null),n.createElement("br",null),n.createElement("br",null),n.createElement("br",null),n.createElement("br",null),n.createElement("br",null),n.createElement("br",null),n.createElement("br",null))))})},t}(n.Component);var g=(0,r.gK)(b)}}]);
//# sourceMappingURL=component---src-pages-jobs-js-9559d7e77a3892aeb1d2.js.map