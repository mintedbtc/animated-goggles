"use strict";(self.webpackChunknwa_daily=self.webpackChunknwa_daily||[]).push([[237],{77885:function(e,t,a){a.r(t);var s=a(94578),n=a(67294),o=a(25444),l=a(67312),r=a(97026);let i=function(e){function t(t){var a;return(a=e.call(this,t)||this).handleInputChange=e=>{console.log("test");const t=e.target,s=t.value,n=t.name;console.log(n),a.setState({[n]:s}),console.log(a.state.email)},a.submitHandler=e=>{e.preventDefault();let t=null;if(console.log(window.location.href.split("?id=").length),window.location.href.split("?id=").length>1?(console.log("idhere"),console.log(window.location.href),t=window.location.href.split("?id=")[1],t=t.split("&")[0],console.log(t)):(t="regular",console.log(t)),""!==a.state.sharee){const e=a.state.sharee,s={sharer:t,sharee:e,source:"share",shareDate:a.state.date,property:"NWA Daily"};fetch("https://nwadailybackend.herokuapp.com/shares",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((e=>{if(200!==e.status&&201!==e.status)throw new Error("Failed!");return e.json()})).then((e=>{console.log(e.data),a.setState({isSubmitted:!0})})).catch((e=>{console.log(e)})),fetch("https://nwadailybackend.herokuapp.com/refer",{method:"POST",body:JSON.stringify({sharee:e,sharerId:t}),headers:{"Content-Type":"application/json"},mode:"cors"}).then((e=>200!==e.status&&201!==e.status?(console.log(e.status),e.status):e)).catch((e=>{console.log(e)}))}else console.log("err")},a.emailRef=n.createRef(),a.state={sharerId:"",sharee:"",source:"",isSubmitted:!1,date:new Date},a}return(0,s.Z)(t,e),t.prototype.render=function(){const{breakpoints:e}=this.props;return n.createElement(o.StaticQuery,{query:"3055651617",render:t=>n.createElement(l.Z,{seo:t.strapiHomepage.seo},e.sm?n.createElement("div",{className:"uk-section"},n.createElement("h3",{className:"uk-text-center"},"Be a good friend, keep them in the know!"),n.createElement("div",{style:{textAlign:"center"}},n.createElement("form",{class:"uk-form",style:{marginLeft:"auto",marginRight:"auto",width:"90%"}},n.createElement("div",{class:"test"},!1===this.state.isSubmitted?n.createElement("div",{class:"uk-margin"},n.createElement("input",{style:{width:"90%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"signup",name:"sharee",type:"text",placeholder:"Your friend's email address",labelText:"Your Email",value:this.state.sharee,onChange:e=>{console.log(e.target.value),this.setState({sharee:e.target.value})}}),n.createElement("button",{style:{backgroundColor:"#307765",opacity:1,color:"white"},className:"uk-button uk-button-default",onClick:this.submitHandler},"Share")):n.createElement("div",{class:"uk-margin"},n.createElement("h4",{style:{textAlign:"center"}},"Thanks for sharing!")))))):n.createElement("div",{className:"uk-section"},n.createElement("h3",{className:"uk-text-center"},"Be a good friend, keep them in the know!"),n.createElement("div",{style:{textAlign:"center"}},n.createElement("form",{class:"uk-form",style:{marginLeft:"auto",marginRight:"auto",width:"50%"}},n.createElement("div",{class:"test"},!1===this.state.isSubmitted?n.createElement("div",{class:"uk-margin"},n.createElement("input",{style:{width:"70%",color:"#307765",marginBottom:"0px",paddingBottom:"0px"},className:"uk-input",id:"signup",name:"sharee",type:"text",placeholder:"Your friend's email address",labelText:"Your Email",value:this.state.sharee,onChange:e=>{console.log(e.target.value),this.setState({sharee:e.target.value})}}),n.createElement("button",{style:{backgroundColor:"#307765",opacity:1,color:"white"},className:"uk-button uk-button-default",onClick:this.submitHandler},"Share")):n.createElement("div",{class:"uk-margin"},n.createElement("h4",{style:{textAlign:"center"}},"Thanks for sharing!")))))))})},t}(n.Component);t.default=(0,r.gK)(i)}}]);
//# sourceMappingURL=component---src-pages-share-js-9dcbf0d046a66abb65a9.js.map